sap.ui.define(["enterprisesustainabilitypro/controller/BaseController","sap/m/MessageBox","sap/m/MessageToast","sap/ui/model/Filter"],function(e,t,o,r){"use strict";var n={};return e.extend("enterprisesustainabilitypro.controller.Login",{onInit:function(){n=this.getOwnerComponent().getModel("prop");this.byId("idSimpleLogin").setModel(new sap.ui.model.json.JSONModel)},onAction:function(e){var t=sap.ui.core.UIComponent.getRouterFor(this);if(e.getSource().getText()=="Login"){n.setProperty("/vRegister",false)}else{n.setProperty("/vRegister",true)}},onLogin:function(e){var n=[];var i=this.byId("idSimpleLogin").getModel().getProperty("/Email");var s=this.byId("idSimpleLogin").getModel().getProperty("/Password");n.push(new r("Email","EQ",i));n.push(new r("Password","EQ",s));this.callODataMethod(this.getOwnerComponent().getModel(),"/UserLogin","GET",n).then(function(e){if(e.results.length!==0){o.show("Login Successful",{duration:3e3});this.getRouter().navTo("Invite")}else{t.error("Login Failed")}}.bind(this)).catch(function(e){t.error(JSON.parse(e.responseText).error.innererror.errordetails[0].message)})},onRegister:function(e){this.getOwnerComponent().getMoldel().createEntry("/")}})});